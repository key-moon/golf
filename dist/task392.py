C=max
B=range
p=lambda g:[u for A in B(7938)if(o:=1,u:=[[(v:=(C(abs(i*2+1-A//3%21),abs(j*2+1-A//63%21))%(A%3+4)==A//1323)*C(C(g)),o:=o&(v>=g[i][j]))[0]or 5for j in B(10)]for i in B(10)])*o][-1]