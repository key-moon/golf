p=lambda g:[[(x==max(u:=sum(g,[]),key=u.count))*y for x in s for y in t]for s in g for t in g]