def p(A):B,C=next((A,C)for(A,B)in enumerate(A)for(C,D)in enumerate(B)if D==8);D=max(A[B+D][C+E]for D in(-1,0,1)for E in(-1,0,1)if A[B+D][C+E]!=8);return[[D if A[B+E][C+F]else 0 for F in(-1,0,1)]for E in(-1,0,1)]