```python
def p(g):
    # find seeds
    pts=[(r,c,v) for r,row in enumerate(g) for c,v in enumerate(row) if v]
    (r1,c1,a),(r2,c2,b)=pts
    # midpoint and orientation
    if r1==r2:
        m=(c1+c2)//2; R=range(r1-2,r1+3)
        d=abs(c2-c1)//2
        for i,r in enumerate(R):
            w=abs(d-1-i)
            x=m-w; y=m+w+1
            if 0<=r<len(g):
                if 0<=x<len(g[r]): g[r][x]=a
                if 0<=y<len(g[r]): g[r][y]=b
    else:
        m=(r1+r2)//2; C=range(c1-2,c1+3)
        d=abs(r2-r1)//2
        for j,c in enumerate(C):
            w=abs(d-1-j)
            x=m-w; y=m+w+1
            if 0<=x<len(g) and 0<=c<len(g[0]): g[x][c]=a
            if 0<=y<len(g) and 0<=c<len(g[0]): g[y][c]=b
    return g
```