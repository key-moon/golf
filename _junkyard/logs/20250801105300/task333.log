```python
def p(g):
    for a,r in enumerate(g):
        if 3 in r:
            c=r.index(3)
            break
    b=a+1;d=c+1
    for i,r in enumerate(g):
        for j,x in enumerate(r):
            if x and x-3:
                if a<=i<=b:
                    if j<c:
                        for k in range(j,c):r[k]=x
                    elif j>d:
                        for k in range(d+1,j+1):r[k]=x
                elif c<=j<=d:
                    if i<a:
                        for k in range(i,a):g[k][j]=x
                    elif i>b:
                        for k in range(b+1,i+1):g[k][j]=x
    return g
```