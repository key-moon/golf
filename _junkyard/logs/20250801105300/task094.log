```python
def p(g):
 f=0
 for i,r in enumerate(g):
  if 1 in r:
   j=r.index(1);k=len(r)-1-r[::-1].index(1)
   if not f:
    a=i;c=j;d=k;f=1
   else:
    c=min(c,j);d=max(d,k)
  elif f:
   m=(a+i-1)//2;n=(c+d)//2
   for j,v in enumerate(g[m]):
    if v!=1:g[m][j]=6
   for R in g:
    if R[n]!=1:R[n]=6
   f=0
 if f:
  m=(a+i)//2;n=(c+d)//2
  for j,v in enumerate(g[m]):
   if v!=1:g[m][j]=6
  for R in g:
   if R[n]!=1:R[n]=6
 return g
```