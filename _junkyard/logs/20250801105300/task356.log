```python
def p(g):
 a,b={},{}
 for i,r in enumerate(g):
  for j,x in enumerate(r):
   if x:a.setdefault(i,[]).append(j);b.setdefault(j,[]).append(i)
 for i,l in a.items():
  if len(l)==2:
   x,y=sorted(l)
   for j in range(x,y+1):g[i][j]=8
 for j,l in b.items():
  if len(l)==2:
   x,y=sorted(l)
   for i in range(x,y+1):g[i][j]=8
 return g
```