Here’s a very short “golfy” solution that picks off the heavy‐grid lines (a uniform non‐zero row) as the border color, then for each interior row and each colour c≠0,≠border it stretches c across all cells between its leftmost and rightmost occurrence:

```python
def p(g):
 val_b=next(r[0]for r in g if r.count(r[0])==len(r)and r[0])
 for val_i,val_r in enumerate(g):
  for val_c in{*val_r}-{0,val_b}:
   val_m=[val_j for val_j,val_v in enumerate(val_r)if val_v==val_c];val_x,val_y=min(val_m),max(val_m)
   for val_j in range(val_x,val_y+1):val_r[val_j]=val_c
 return g
```

Explanation of key steps:

- We find the “border” colour `val_b` by locating a row that is entirely one non‐zero colour.  
- For each row `val_r` we collect all distinct colours `val_c` other than 0 or the border.  
- For each such `val_c` we locate its leftmost/​rightmost columns (`val_x`,`val_y`) and fill every cell in between with `val_c`.