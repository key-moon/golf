```python
def p(g):
 for i,r in enumerate(g):
  for j in range(len(r)):
   if r[j]and(i<1 or not g[i-1][j])and(j<1 or not r[j-1]):      # top-left corner of a block
    w=j
    while w<len(r)and r[w]:w+=1                                  # block width
    h=i
    while h<len(g)and all(g[h][k]for k in range(j,w)):h+=1       # block height
    if(h==len(g)or all(not g[h][k]for k in range(j,w)))and(      # bottom border 0/edge
       w==len(r)or all(not g[k][w]for k in range(i,h))):         # right  border 0/edge
     return[g[k][j:w]for k in range(i,h)]
 return g
```