
import ast
import zlib
import base64
cases = ast.literal_eval(zlib.decompress(base64.b64decode(b'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')).decode())

def get_cases(case_path: str) -> list[list[list[int]]]:
  return ast.literal_eval(zlib.decompress(open(case_path, "rb").read()))

if __name__ == "__main__":
  import sys
  import warnings
  warnings.filterwarnings("ignore", category=SyntaxWarning)
  warnings.filterwarnings("ignore", category=FutureWarning)
  if len(sys.argv) < 4:
    print(f"usage: {sys.argv[1]} [path to your code] [path to case data]")
    exit(1)
  
  env = {}
  exec(open(sys.argv[1]).read(), env)
    
  if "p" not in env:
    print("'p' not found in provided file.")
    exit(1)
  if not callable(env["p"]):
    print("'p' is not callable.")
    exit(1)
  p = env["p"]

  total = len(cases)
  wrong_cases = []
  for i, (inp, ans) in enumerate(cases):
    try:
      out = p(inp)
      if out == ans: continue
      wrong_cases.append((inp, ans, out))
    except Exception as e:
      wrong_cases.append((inp, ans, [[str(e)]]))

  wrong = len(wrong_cases)
  if wrong == 0:
    print("correct!")
  else:
    print(f"Wrong: failed {wrong} cases out of {total} cases")
    print(f"<failed_cases>")
    print("<note>only first 8 cases are shown</note>")
    for i, (inp, ans, out) in enumerate(wrong_cases[:8]):
      print(f"<case{i}>")
      print("<input>")
      print("\n".join([" ".join(map(str, row)) for row in inp]))
      print("</input>")
      print("<expected>")
      print("\n".join([" ".join(map(str, row)) for row in ans]))
      print("</expected>")
      print("<actual>")
      print("\n".join([" ".join(map(str, row)) for row in out]))
      print("</actual>")
      print(f"</case{i}>")
    print("</failed_cases>")
