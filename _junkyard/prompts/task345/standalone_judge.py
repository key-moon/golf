
import ast
import zlib
import base64
cases = ast.literal_eval(zlib.decompress(base64.b64decode(b'eJzdXWmONCkOvc60lD9CSD5NK+9/jWlVZQTeWG0DWfo0WTWvaBJ44QWwHf/+799/r5f4935No9DRFty+DaPp5/f0un+73v/BBP98stYjKKhoIiiwUehjs6Pvf17O7EFHW+joF0zs3Sv/yx6ec0J9jKPQ0RZUNBEUTE/QMzsje+DAE0VhoG2NvZ+fhD30ida+hkKjLahoKqDXi/wXZMQ6ejXQc2XPxh7VnBlLpI9xFDragoqmAspHvFdzzqN2Tun8uOxhXK59NAoqmgoon0dhdlPstXyOlj6NQtFzeVuGx2tJT9uktMYoNNqCiqYCWh6bHfWUvTKnFls2yh75JD4nmj9q3YtCsS2oaCqgkpF51MJeycK1dwzxdo+yh5/bhPqooSXvEpo99Pic+9mbR3/Zq0ukdcfwsQyKz/nfT8WP9EMBs/ygN3uPvKoj1tF1PqfGU7ktTPJUYw/NM5g9UNHs/4PgCenVwohH0Fn2oNp2v9fymak4a0mstY6Cit7SA5XvW4t6yB5M2bI6//PslTUn10R96D07rW0qoERvFsdmR/0056wn4imnUpo4e4n00Y/O7sChMjY76m33LHsDz93651Oxe4nxNILyvQHVqJJ/jEZ4ojPslVfZSxv23FKMs8dXY3SVYXqVKarfUqxibxTNnPp5l2X2kF1QvBb72nM0cwpkFFpbOjY7GnFSNis5nuw9lkGclLXXCKptueTc36ejtbHt8jnbd6sWKeu5pSizl2eXXvyk7PkLac1RaLble7hH3lSUjg1UNBXQq4ruvmPAcurltaD1K+zWpX8Sg9LZaW1TAeXzKMxuy/1eGbX5PTXNSTTltLcOph7qpwC1eXhqTg80wpdR7Hq416Kja3yZtexxnrCcCr25ze7Notwa3pKWfmZns3D77F7EmViZvdWyp+8CT94xaOi8zxFzx4DZE7ZI+BwtFFQ0FVA8CiiOzY5G3M6OcrruhojqvToKKpoI2roh+vSjjm3XDVGdEZvP6cneVWTvUtmjUkbRxDjVdmvlUUShu3YMkbHUUvae+d5aR/E5+tC+vTawUdilzNNr8V17qjm9onGx3RuzLuX4oxmU2j3fCKa9Xou3lvXQnDP6lKP37KK1rL/d60ch/3RlD81yIq6lxxO5VJ+DopB/Cin7+VkY8Qg6L3v+MZr4qZi7cS9pTvEXhT2K8nyDWw/q6NWB4lMyHM+b0Ag0ntZoTsHqEt1bZk/KXt8q11GY7mE0MubbZA//m5c9os2mIuEzS31tx1GvWHo/9qLio0fZe+aG2OPPraY5KQoMjbjf2eO1MO4+MXP2tT9Hc2IPExptv1NzPtw12o7tDe33exp7TEJUf09HWxHr8BpZe+8oz7+oOUuyhz6Hfc7ntoetp0Vy9rDnzVPt1m+GPczHe/iUmu/L6X6Po1cTrd36EWkWPPHnSpld6P0euT937LePveuln3Py1rMoMEbkKHS0PuIVXksvI2v1aV1zck1UR3t2dhGeyCqvpcbezOnXKp+Tas4SCpW2oKKpgJ7qc+aIN0tUSvztLNc57VNKJH1vGpUy0gNmmo/tzNvZEZ5i7xi47KG/hHgtkf6JF3viLHnL3qDGHtJFw1FJ+Eylp6YV/761qK/POb7X9uU/z2yWvRo6Hj0WnfOwOxKeomyHYWDvXs335Cl1BMp2GMqIdbQyu2PY89DIds0ZhcZo5N01I6SUnVRlroW2q8xRKZMncESXCvRqoLG7dY/o9nH2kN4ynLW0z0/kPqI0iih0T+7silpJUvYQW0ierCixZkgiEd9IItvytEr2KOrHiNcp9SU0J5WyEXQmpmxWplfKnmcuujVOlNr1LHvc3vM7uzIq7/c+Hkbh+2ooDLTtQ+fPWk6NaylrTvTZ9ESkd/FhjaH8+/pQ7sus1py2O/DTawTKfflID99ZI9AzPt4ie2hN1VPqpLRuo565CVz2Hn1cnEdhdqERgXt2DFJzjq9yz75MRF27aMPzNWcPOuMNZd2kyV6/forPhwVzD5ez5iQrz9A1eWFSmt7OGWC/K8/RXXlhq9jT2vp7rTXZI6yI1iNo3xkz4spBylbKXkbX5tnSpzOzJ/6CPEYLujvPNoI9W7zE/uzLOppvCGCih/3ZlyvOxCIywNCqInniqF/0EBTb6rv178wA8zu7lqupsXcZTqlrkWY6Gnl2vep2dl00LllP4bVwm+ODSgv3+z8drY94BPWKCDwpj0Gyx59b6omU0OgKf2d6LRKd8UQsu/VnTZnsPfNXn+VZVL43o90DqGgqoMXZ/cH7PbRy22vCS9RWI5LN7piTMs7+rOwRDTOZvwcDbftQrnm/4002LdTXcmLL8PO7c0X/URRHj83XqavMbmE0bmsPd07ms47KzFdmyao9nJeFoqE+kWb2+z2pOdG6ktYjaPs8WuRBKGPT7/f0tjV0f2XjzNPpsjcjp5mnk2Qv8n7P5nOSOYa8A6z2fW1U39nP9esXjdsnOV7VQcrs5dlx2UNcEe9CR6mOzD4H1ZyJfB84aMMVmlPK3pze888hIp9uUUlzkUZ+bxwqzM5dc6450SyzF6s5PfXeXs3J0XJcQ2zsp8bH5+eSmDLfzJI9O4bTTqml5sT4axCN2GvbUbvm9IyE92CPyI45pozGfmlt6fetRXeflGFU1OYx+pyZPa51pJTFo+SJQCPW2sp5FGZ34H7v6f9Ar0VDr2EUzD3Y2LOhLRv53bLXusmlssdHfILsZWvomd3Qxx6aZdANUb7foRUePSqFr/U5Z70Wr/1+ib2PXZ/arRMd190Wo177/TrqpTnJmfPk2tvRuuyhvyuaqIaSM2fRdsXOLkr2fFGbN5SfYyp7vc9yNOqd3bJmt44kc4vsib+oPsfsOzZWvDfjRNmTZ6JesveZo/t7Z0dQeSbqvRPZk0MUm/mM5hlSbYfHQCAOhJxivaejfMQj6AlvLvWtz0nWyFwzoo2CimZ54pGbz98LIx5BPWsltXd2a+welpu3EtdCGSmhwND7jkFrq9m9PAqPOqqF2R1YdcC/2g7n6VLZq6Ng7uGenYbuqrYj0dlzLt94zs/83E/KYLKHiEyItfd7WHNGnHPjlfjYdeNZC117jtKTEnybpO/stB4sqLfs9Z21jNd99GCP25FxtO+tfO3Yv3OzL0dRylP8WQv3AmJRyhOoPJ1w1lJC53wZ6/2eZO+xFmzlbChM9XBaZeO5qkirakaQtRSt2yhM9XBmzYgoq2VH8fxm7d54tWKk/wqjiELX2b3eOiCnV/zQ0d46IGdU/IivU+bJHrYZCfWhofDS7lYj6jOet2Owop53DEnxOW/8tQUFFU0F9GqiO9mD/Okoe1hv7Xybxj07re24d7lyxzBTZc6jlmdJc5I5MxkZR/u8FmrhRA7SEZrTU3LW5K1nRtpo6yaPa8kaek7e+op8E2vNiJLstdcIim39PEYYaFuZXWhl4xK64m79QuzRmec+yigMtOXourpK/ncMu/P32Pyc36bBz0+w9Pkwsoc9DW15It9yUqajrfOzM0/K6L+2fVq3s3/sz/3bgneheO/hRtB9WSjRt7OYPTzzvBpRKD6twWuvtZUjHkFPqK56qVp2Z52yMgqTPfzNOmV0x2iNa2JP92vnWcvD0oNiedTapso8CrMz7/ekjPhW8Rhl75mbkD30U/UCeOzfZ/VZ29+cr7govxH0792t3/PjsheznuVKEjV0/3uI+lB7Lvo4e0jDuMWU6Wj2N2ldnfRCfBTHZkf979b379aJXXeu6A8M5d+3Fv2Lsic1p3huEXsWFNeB4LLX1nt2dL/PiVG6DxyvSFeSPQ8LZ0d/Z/fwTUas9RAhe7XTr7kduG8OUZm99LTu35dd4lSl1QNHfXZ2MZrTszbq058Le1Jz9tk9jOq1UbFvmNj36aPg/Pe07UH9zzmx1+JxXz7OHtZZ7+kMsGe9CXqziOUUsbhYI0fZvTltyM4/g+we52kcncvUo3aPjniV3RvjaW3lQLxuUnNivNe7hGrb3ZUDPXNnW+zFR1iXNKeYOWFER0FFqY7E7OHzE2ahvk5zzqGemhPLXsRzP45mzcnbroylnkdb1tDvjuGWkDe7Y/h8Kq3taKu+ANOzhRGPoPtlz3PPoViGgIofIyjfczyMutjImAywmWhc+xj6NOeMzaGZJTPRuFYdGa05vbzLiB2DXZ7aeWF9T8VpOwaM7s4sypZBk73ZJ/xGvWvE2dEddq+dvzd7H9GjOcetyxjazt/T3rExp0/X5DFwbbgmltquOfU8Bt6Wa0MvLdtG/SLh/RnxuyEaZ09nRNonps0GrBYMtF1j93rRFfGcWHNim5FQHzHouuzbc+I5yX9rYi//9I+Et0S3g4rqbftQS0TgzggWHS3ZPcoItyMcRVmvis3R0WsLukpzUqZ3eS2UJz905l1938Tew+CwNzTKHpnjwljqvgx1pD0LIx5BT5W9iCpzaObC57ChNE7wr1aZi84Wq8lez2rY0HY28+kV/b1Onk+r8Ah89Yk8afZJyl5Gv1P26qg9d7pHcybUx0r01qfAGNHa7mavJyppT70WvhozKHS0/YZ6LRn13AXYTqnxakrNyWWkD/WMP5Kn1LPPlW8stQcaHxGYlNW4URhoO4OefL9HVn+D5byfyvSgbzWuhftw/ag8KUto9UujiEI92MN3AXtr8Min3u5zAkL1quJ9/UbcG8VoTkvk5vmaU49r+VbNOX4PJ5gK0ZyUvTz3xFrXURhoq2lZjspzbjriEfScc06x29sie/NoXSJj3p7pXSPQS558z1p6V+MXhUpbn8zn7ztr4Xu4qLt1snbLzjn5Ho5EUqCxJTS2Wb8Xze6g6qqCVQN7UvbS01ZarRLqX5f47Bsiv1glz0pX4i9v6dn3oMBQGqt0PRkL7LlQxnZupavZcy6v/R7WTm/3U2pQ0VRA8ew0NBVQPo/C7BacUvdbOJ+oJCl7FNelYQQFtRZBS3Jq3tAcuuuGiNVxcfJa8fy43fNeuT6epHf5qXPm4jnNsteSJ78qHqPsEf0yWV0VVHTNm4BHUP+TsifSdhN79+wke9pqcJRXK+Ztn0hb9n1a2zyKKNR3x/ANOUQj2jD23Yfn7Rg42vIjfauX0aczs8eZwr6hBW3V7odXbWx21Dt31lJlzI5KaXq7nHPKU0qPKmM7fU7/vGUqqdbdutScSPcInjgakbcMCG1HD/agOyMj6vx7nrVwnVOuisTv92pt6yg/l6FyuvesJcI/EZUL3NijFv8ip18aKqsBjvYgURphDeqp2sqTMr6rru3AvZlusyc155h14XdBtR34Z+VdtGGs5iyhp9WMwOxhLKE++lGviMD9tZJqPLXWPtYTrWtO9Cl4ymgteqh1M+6RzbxKc2qcRniio+whm+O236N5DBfhlLeVo4hCV70DbPzk2d/nfGZtvmO4WBVkGO7hnPu9tjbslcjYGyKpDXtQaLbtjTQ644bIYvfO15y10y+pOfn3/SXNmf/fyrz1lGco9nuJ9OGF0vj4iFv0wuyC41rm+521e3l2VHOiWbN7uH5UOz+Z65ffED7atjCPwuyM55wz+/K4LCSs834+p+0e8jGFLavvy8WOo9LWip6QQ+R3D9+SveeTtB5BQUVTAf08Bw5S5i17iKsHPed29rEMamREr3UBgoLa1jvCdgTdJXvtvcGZ+72+nR00+z1jv9eWPesebpY9affaq8HRdmQEsO+LsnBedq/n/OR77xj4+UmbU2TJvoC9PrSl92IkkloGqjnJ3Ke9lkcK1e+Lq91fmN22ei2xOURl2Vuj4dbUsI55k01bc8bJnk1zZtSiOVdZw5W3s/HWED+ZmD0x808f/Wi7ZkDfWxrw2Oyo9zvATqgZgaVJY++2ZT0oEBR5nQjltwlCxyH+paTrKJ9HzI6hj1O9bVSlKywh78GYsj605/179N4oporPvqridU7teetl2ZvRnF5atnZ+ulP2OCOzESwRNSP8GQHEyIjknFAzohdlsdFu/bbZ+8wxdMcg3p2ojEJHayMeQfdkPu+7ncWMzKHtzOdvvZ09644ha046b6mJ+lBQ0VRArwWo5yl1fA2eHvbu2Un2tNWoo9i7gErbXe9usEQlrWHEgz36l/T0oaE02yuv3N1nNCOn7RikPhXejLvd09jDOLdw8ygIFO/LsfRqPcgRR/ucPmsfdUptZc9n7SWnNp5i2LOsvX/sJ9Utl9CcifWhoa1s5vr3ZXRF7OfOvPUo9kqyx+2IHbVkrOySvTq6Ju52hj0Pu0fvjSJOnveyR1Hsn666IUKfwV4LfkOGbiNj4yVOqjLnmYXyWeeAk7L5MzFQUb1tH3rmm2xm+e+RvYT6WIlmOaX8a23Xy55lD++VURtn97COHLVwcRm1u2sl+aJoZorsYZz7kXOo5/ttZtDo7MsZ9uZP4CJkDyptZ3zOcrTTWtnzjcZdERnxcEBa62j55HnmbRrnRUbszBYqs5efe8oefnK/L1uoMDv39zHUUa93FpXZ0zTn2BMOA20piv2TM89a4nInKaffXqdMR9H9k8rp6poR8xkL0afUM+xxtBX7V5ZTXfbmZDrC7vWxp6HPuVkIe+jTvFuHgbZ5djQPRXqiGOUjHkF3xnPG2j3JHlprtPb+KK6rJNnj6PnslXnyjRNkT7fic/LV8ECh2JafiRIrVxjxCLrjlHpFzQjJnpfWap1Si/OX4tjs6L63SMXm731+M0YEarlefT2siR48qTau/amQ+k3Knrb2HNWjUlIBvYZRr3eLnXdDdGYegx2lNSIzT/i5aD9XbHbbfU7/iEC8bjvYwzzxG3feVo54BD3r7Yked+slzblTw/2iMNA2XnO27xiiT9U09p65IdkjHIlnWUfbdwwx9wYrZU9D5Y7BP0u2xh76nH6bRhmVOwa6Lyc1eURbPDY7ek6FR7/7PbT+zm/snr834DG+tbb96Jn1WixRSWSOR9Zr8TuB8X6LlAfT1sgIH7uH0dZb+UZQz2yxE+pz+saUkSdUvVtP6rPch8q1zzIl0d9eoDA2O7r3dtY7A5A+nVdB9nhrjHIpq7VtoaCiqYDW51GY3cKTsvre0Ntr+bUi0u5xTaShM/lb9fpXMfWO/2IWipQ98ZdPH+OoVv1dylNio7BLma/s9aMsVzOcPWqzNLt3mSs8Xmotx1bdx5o9nUNj2NtZXZXYdrWif9kL6EPl+dmHpeIootCdubOI6wDNidljzyzThhT1jm6HgbajaOx7Zy2eyHxEIJab92RMmfbeDN7WEj3YU6dOk382u0V2b0e9lmtixzCK3rPT2nruDWK8Fk8L51mf87HrynuI0tNHC4WBti0UVDQVUD6Pwuy2361n/u1VfPL8rgJ7N/5ahGb+LRmAxdktzFuf4/Rk9mYZ0Xf2O9lbm6nXYu+2OJrmvAQjbXSm7p9mDUtt59Do29mzzloS62MGpbPT2n7TWctsHoONJx1V7Loqe/yt9mUUVJRXFc/fF+WfrPFa+u7W49n7fDrnMfDchIdLguJ86ITGpqN8xCPoGTUjvsfucVtWs3vx6Ir7vbm4a//sy8dedL2Fu90Wy2Nf24zue4NbS++NRqXEnHNi9sTMVf8kqZ7IvZ43CoIR2RajPmdihdmFvk1jlZxebrI3IjkyTqwlOd5VO/eetXjXnqNWiLJHrAZpHYU+ObRsbFpbKWU9qE1z+uZO+rCHZziT+Qxk9XPPdPVX+ydeXksZtWYh4H/+GWBIFyqt2yiYeyCaVx2xjlZmF3q/t/esJWtOajPS00cZ5VHTetv2e9241fJF11Xb+di4LexR/Gp4jDDQ9kY/9VXDvMton3NcyqLrtVzFHYMmT3V0/ETzu6qK97C3Uvaw3RMWX/DUQnuiXSIjWAqzM2hOb3/fiz30ORWNCzcXjQhb7fvWoueeUnuelIm/qDqyjfJYpVsOKEqrdl7ktOZG952UUaaiteEoe3mN0kvfrV9ojcrok3fOek5slen3rUXXnbX07Ow98tbxDNfl7/VUigc2Nn3EI+jK6qotG+kZU/b5aYhrgYG21wvbSL1txJs3znhrMJieihj25lHOExCeeARTH09Rdi+OUz+fk9kLZe0lCgNte9CIG/cTqg7M3ibV2cOyh5Dfn6j1CKrHx3Ofk45i9jZppeasr73/qYqFPboaPWi9MsuKCtSr7F5bn0bXa8k//fMY2hkLMjelNDY7ujqW2qu+gI5KCXmT3fpjkZB9sqCoRvgPiv0TZNMGJb0f/YvvW0deQ0BlY2i2Xfd+mxOyLylqr/AoNSe3GXLt8ew01Cs+2vfm4f3P+/8VKiWe')).decode())

def get_cases(case_path: str) -> list[list[list[int]]]:
  return ast.literal_eval(zlib.decompress(open(case_path, "rb").read()))

if __name__ == "__main__":
  import sys
  import warnings
  warnings.filterwarnings("ignore", category=SyntaxWarning)
  warnings.filterwarnings("ignore", category=FutureWarning)
  if len(sys.argv) < 4:
    print(f"usage: {sys.argv[1]} [path to your code] [path to case data]")
    exit(1)
  
  env = {}
  exec(open(sys.argv[1]).read(), env)
    
  if "p" not in env:
    print("'p' not found in provided file.")
    exit(1)
  if not callable(env["p"]):
    print("'p' is not callable.")
    exit(1)
  p = env["p"]

  total = len(cases)
  wrong_cases = []
  for i, (inp, ans) in enumerate(cases):
    try:
      out = p(inp)
      if out == ans: continue
      wrong_cases.append((inp, ans, out))
    except Exception as e:
      wrong_cases.append((inp, ans, [[str(e)]]))

  wrong = len(wrong_cases)
  if wrong == 0:
    print("correct!")
  else:
    print(f"Wrong: failed {wrong} cases out of {total} cases")
    print(f"<failed_cases>")
    print("<note>only first 8 cases are shown</note>")
    for i, (inp, ans, out) in enumerate(wrong_cases[:8]):
      print(f"<case{i}>")
      print("<input>")
      print("\n".join([" ".join(map(str, row)) for row in inp]))
      print("</input>")
      print("<expected>")
      print("\n".join([" ".join(map(str, row)) for row in ans]))
      print("</expected>")
      print("<actual>")
      print("\n".join([" ".join(map(str, row)) for row in out]))
      print("</actual>")
      print(f"</case{i}>")
    print("</failed_cases>")
