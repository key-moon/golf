def J(A):return tuple(map(min,zip(*G(A))))
def GY(A,B):
	C,D=B;E,F=len(A),len(A[0])
	if not(0<=C<E and 0<=D<F):return
	return A[B[0]][B[1]]
def G(A):
	if len(A)==0:return frozenset()
	if isinstance(next(iter(A))[1],tuple):return frozenset(A for(B,A)in A)
	return A
def GE(A):return tuple(A[1:-1]for A in A[1:-1])
def GV(A,B,C):
	H,I=len(A),len(A[0]);D=list(list(A)for A in A)
	for(E,F)in G(C):
		if 0<=E<H and 0<=F<I:D[E][F]=B
	return tuple(tuple(A)for A in D)
def X(A):
	if isinstance(A,tuple):return tuple(zip(*A))
	B,C=J(A)
	if isinstance(next(iter(A))[1],tuple):return frozenset((A,(E-C+B,D-B+C))for(A,(D,E))in A)
	return frozenset((D-C+B,A-B+C)for(A,D)in A)
def GG(A,C):
	if len(A)==0:return A
	B,D=C
	if isinstance(next(iter(A))[1],tuple):return frozenset((A,(C+B,E+D))for(A,(C,E))in A)
	return frozenset((A+B,C+D)for(A,C)in A)
def E(A,B):return frozenset((A,D)for(A,C)in enumerate(A)for(D,E)in enumerate(C)if E==B)
def H(A):B=[B for A in A for B in A]if isinstance(A,tuple)else[A for(A,B)in A];return max(set(B),key=B.count)
def K(A,B):return type(A)(A(B)for A in A)
def GH(A,B):return type(B)(A(B)for B in B)
def GJ(A,a,b):return lambda x:A(a(x),b(x))
def L(A,B):
	C=A.__code__.co_argcount
	if C==2:return lambda y:A(B,y)
	elif C==3:return lambda y,z:A(B,y,z)
	else:return lambda y,z,a:A(B,y,z,a)
def Z(A,B):
	C=A.__code__.co_argcount
	if C==2:return lambda x:A(x,B)
	elif C==3:return lambda x,y:A(x,y,B)
	else:return lambda x,y,z:A(x,y,z,B)
def M(A,B):return lambda x:A(x)==B
def U(A,B):return lambda x:A(B(x))
def P(A,a,b):return a if A else b
def W(A):return next(iter(A))
def R(A):return frozenset({A})
def GM(A):return len(A)
def Q(A,B):return tuple(A for B in range(B))
def S(A):return tuple(B for(C,B)in enumerate(A)if A.index(B)==C)
def V(a,b):return type(a)((*a,*b))
def Y(x):return x
def p(I):I=tuple(map(tuple,I));A=GE(I);C=H(A);D=Q(C,1);F=L(Q,3);G=U(F,GM);J=M(S,D);N=Z(P,Y);O=Z(N,G);T=U(O,J);a=U(R,T);b=GJ(K,a,Y);B=U(W,b);c=GH(B,A);d=X(A);e=GH(B,d);f=X(e);g=E(c,3);h=E(f,3);i=V(g,h);j=GG(i,(1,1));k=GV(I,3,j);return[*map(list,k)]