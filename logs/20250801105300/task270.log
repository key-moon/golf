```python
def p(g):
    o=[[0]*15 for _ in[0]*15]
    for i in range(15):
        for j in range(15):
            v=g[i][j]
            if 0< v<3:
                o[i][j]=v
                L=sorted([x for x in range(15) if g[i][x]>v and x<j],reverse=1)
                for k,x in enumerate(L): o[i][j-k-1]=g[i][x]
                R=sorted([x for x in range(15) if g[i][x]>v and x>j])
                for k,x in enumerate(R): o[i][j+k+1]=g[i][x]
                U=sorted([y for y in range(15) if g[y][j]>v and y<i],reverse=1)
                for k,y in enumerate(U): o[i-k-1][j]=g[y][j]
                D=sorted([y for y in range(15) if g[y][j]>v and y>i])
                for k,y in enumerate(D): o[i+k+1][j]=g[y][j]
    return o
```