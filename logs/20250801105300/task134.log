```python
def p(g):
 d={}
 for i,r in enumerate(g):
  for j,c in enumerate(r):
   if c:d.setdefault(c,[]).append((i,j))
 e=sorted(d.items(),key=lambda x:-len(x[1]));P=e[0][1];m=e[1][0]
 r0,r1=min(i for i,j in P),max(i for i,j in P)
 c0,c1=min(j for i,j in P),max(j for i,j in P)
 H=(r1-r0+1)//3;W=(c1-c0+1)//3
 A=[[0]*3 for _ in[0]*3]
 for i,j in P:A[(i-r0)//H][(j-c0)//W]=m
 return A
```