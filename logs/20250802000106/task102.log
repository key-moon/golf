Here’s a fully working golfed solution.  It scans every possible rectangle, checks that its border is all 5’s and its interior all 0’s, and then fills that interior with 2’s.

```python
def p(g):
 val_r=len(g);val_c=len(g[0])
 for val_i in range(val_r):
  for val_j in range(val_i+2,val_r):
   for val_k in range(val_c):
    for val_l in range(val_k+2,val_c):
     if all(g[val_i][e]==5 for e in range(val_k,val_l+1))\
     and all(g[val_j][e]==5 for e in range(val_k,val_l+1))\
     and all(g[e][val_k]==5 for e in range(val_i,val_j+1))\
     and all(g[e][val_l]==5 for e in range(val_i,val_j+1))\
     and all(g[x][y]==0 for x in range(val_i+1,val_j) for y in range(val_k+1,val_l)):
      for val_x in range(val_i+1,val_j):
       for val_y in range(val_k+1,val_l):
        g[val_x][val_y]=2
 return g
```