A very short “lattice‐span” solution.  We detect the first two non‐zero points (they always lie on a straight line), form the direction vector `d` and its perpendicular `w`, then fill exactly those cells whose offset from the first point lives in the 2D integer lattice generated by `d,w`.  All else stays 0.

```python
def p(g):val_p0,val_p1=[(i,j)for i,r in enumerate(g)for j,v in enumerate(r)if v][:2];val_d0,val_d1=val_p1[0]-val_p0[0],val_p1[1]-val_p0[1];val_D=val_d0*val_d0+val_d1*val_d1;val_w0,val_w1=-val_d1,val_d0;val_c=g[val_p0[0]][val_p0[1]];return[[val_c if((i-val_p0[0])*val_d0+(j-val_p0[1])*val_d1)%val_D==0and((i-val_p0[0])*val_w0+(j-val_p0[1])*val_w1)%val_D==0else 0 for j in range(len(g[0]))] for i in range(len(g))]
```

Explanation of the key test for each cell `(i,j)`:

- Let `Δ=(i−p0₁,j−p0₂)`.  
- The dot‐products `Δ·d` and `Δ·w` must both be multiples of `|d|²` for `(i,j)` to sit on the infinite lattice spanned by `d` and its perpendicular `w`.  When they are, we set the cell to the original color `val_c`, otherwise zero.