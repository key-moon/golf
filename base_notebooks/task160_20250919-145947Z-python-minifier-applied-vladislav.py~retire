def p(j):
	G,H=len(j),len(j[0]);from collections import Counter as Q,deque;R=Q(B for A in j for B in A).most_common(1)[0][0];I=[[0]*H for A in range(G)];N=[];O=[]
	for E in range(G):
		for J in range(H):
			if I[E][J]:continue
			P=j[E][J];K=deque([(E,J)]);I[E][J]=1;F=[]
			while K:
				A,B=K.popleft();F.append((A,B))
				for(S,T)in((1,0),(-1,0),(0,1),(0,-1)):
					C,D=A+S,B+T
					if 0<=C<G and 0<=D<H and not I[C][D]and j[C][D]==P:I[C][D]=1;K.append((C,D))
			if P and len(F)==8:
				L=[A for(A,B)in F];M=[A for(B,A)in F]
				if max(L)-min(L)==2 and max(M)-min(M)==2:N.append((min(L),min(M)));O+=F
	for(A,B)in O:j[A][B]=R
	for(E,U)in N:
		A,B=E+1,U+1
		for(C,D)in((A,B),(A-1,B),(A+1,B),(A,B-1),(A,B+1)):
			if 0<=C<G and 0<=D<H:j[C][D]=2
	return j