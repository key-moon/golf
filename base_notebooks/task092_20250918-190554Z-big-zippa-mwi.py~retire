def p(g,L=len,R=range):
	E=None;H,I=L(g),L(g[0]);F=[A[:]for A in g]
	for A in R(H):
		C=D=E
		for B in R(I):
			if g[A][B]:
				if C is not E and g[A][B]==D:
					for G in R(C+1,B):F[A][G]=D
				C=B;D=g[A][B]
	for B in R(I):
		C=D=E
		for A in R(H):
			if g[A][B]:
				if C is not E and g[A][B]==D:
					for G in R(C+1,A):F[G][B]=D
				C=A;D=g[A][B]
	return F