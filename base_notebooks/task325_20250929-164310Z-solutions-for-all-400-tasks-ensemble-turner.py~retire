def p(j,A=range):
 D,d=len(j),len(j[0]);B=0
 def E(W,l):
  j[W][l]=0
  for(o,h)in((1,0),(-1,0),(0,1),(0,-1)):
   A,B=W+o,l+h
   if 0<=A<D and 0<=B<d and j[A][B]:E(A,B)
 for o in A(D):
  for h in A(d):
   if j[o][h]:B+=1;E(o,h)
 return[[8*(D==A)for A in A(B)]for D in A(B)]