def p(j,A=range):
	K,L=len(j),len(j[0]);C,E={},[A[:]for A in j]
	for F in A(K):
		for G in A(L):
			B=j[F][G]
			if B:C.setdefault(B,[]).append((F,G))
	for B in C:
		(D,H),(I,M)=C[B];N=1 if I>D else-1;O=1 if M>H else-1
		for J in A(abs(I-D)+1):E[D+J*N][H+J*O]=B
	return E