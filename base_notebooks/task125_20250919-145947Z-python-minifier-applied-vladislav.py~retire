from collections import deque
def p(g):
	C,D=len(g),len(g[0]);E=[A[:]for A in g];I=[[0]*D for A in range(C)]
	for J in range(C):
		for K in range(D):
			if g[J][K]==6 and not I[J][K]:
				P=deque([(J,K)]);F=[];I[J][K]=1
				while P:
					A,B=P.popleft();F.append((A,B))
					for(Q,R)in((1,0),(-1,0),(0,1),(0,-1)):
						G,H=A+Q,B+R
						if 0<=G<C and 0<=H<D and not I[G][H]and g[G][H]==6:I[G][H]=1;P.append((G,H))
				L=min(A for(A,B)in F);M=max(A for(A,B)in F);N=min(A for(B,A)in F);O=max(A for(B,A)in F)
				for B in range(N-1,O+2):
					if 0<=L-1<C and 0<=B<D:E[L-1][B]=3
					if 0<=M+1<C and 0<=B<D:E[M+1][B]=3
				for A in range(L-1,M+2):
					if 0<=A<C and 0<=N-1<D:E[A][N-1]=3
					if 0<=A<C and 0<=O+1<D:E[A][O+1]=3
				S=set(F)
				for A in range(L,M+1):
					for B in range(N,O+1):
						if(A,B)not in S:E[A][B]=4
	return E