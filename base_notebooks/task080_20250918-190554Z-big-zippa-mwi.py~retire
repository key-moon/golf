from collections import Counter
def solve_39e1d7f9(I):
	G=None
	if not I:return tuple()
	L=len(I);O=len(I[0]);A=[list(A)for A in I]
	def c():B=[B for B in range(L)if all(C==A[B][0]for C in A[B])];C=[B for B in range(O)if all(A[C][B]==A[0][B]for C in range(L))];return B,C
	def P(uniform,limit):
		D=limit;B=[];A=-1
		for C in uniform:
			if C-(A+1)>0:B.append((A+1,C))
			A=C
		if A<D-1:B.append((A+1,D))
		return B
	Q,R=c()
	if not Q or not R:return tuple(tuple(A)for A in A)
	H=P(Q,L);J=P(R,O)
	if not H or not J:return tuple(tuple(A)for A in A)
	E=len(H);F=len(J);B=[[A[H[B][0]][J[C][0]]for C in range(F)]for B in range(E)];d=[B[A][C]for A in range(E)for C in range(F)];M=Counter(d).most_common(1)[0][0];K=G;N=G
	for C in range(1,E-1):
		for D in range(1,F-1):
			S=B[C][D]
			if S==M:continue
			T=B[C][D-1];e=B[C][D+1];U=B[C-1][D];f=B[C+1][D]
			if T==e and U==f and(T!=M or U!=M):K=[[B[C+A-1][D+E-1]for E in range(3)]for A in range(3)];N=S;break
		if K is not G:break
	if K is G or N is G:return tuple(tuple(A)for A in A)
	V=[A[:]for A in B]
	for C in range(E):
		for D in range(F):
			if B[C][D]==N:
				for W in(-1,0,1):
					X=C+W
					if 0<=X<E:
						for Y in(-1,0,1):
							Z=D+Y
							if 0<=Z<F:V[X][Z]=K[W+1][Y+1]
	for(g,(h,i))in enumerate(H):
		for(j,(a,b))in enumerate(J):
			k=V[g][j]
			for l in range(h,i):A[l][a:b]=[k]*(b-a)
	return tuple(tuple(A)for A in A)
def p(g):A=tuple(tuple(A)for A in g);B=solve_39e1d7f9(A);return[list(A)for A in B]