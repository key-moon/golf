E=enumerate
L=len
def p(g):
	B=sum(g,[]);C=sorted([[B.count(A),A]for A in set(B)if A>0]);G=[[D,A]for(A,B)in E(g)for(D,F)in E(B)if F==C[-1][1]];B=sum(G,[]);D=B[::2];F=B[1::2];A=g[min(F):max(F)+1];A=[A[min(D):max(D)+1][:]for A in A]
	if L(A)<3:
		if A[0].count(0)>0:A=[[0,0,0]]+A
		else:A=A+[[0,0,0]]
	if L(A[0])<3:
		if[A[0][0],A[1][0],A[2][0]].count(0)>0:A=[[0]+A for A in A]
		else:A=[A+[0]for A in A]
	A=[[C[0][1]if A==0 else A for A in A]for A in A];return A