def p(g,L=len,R=range):
 d,l=L(g),L(g[0]);n=sum(g,[]);o=sorted([[n.count(s),s]for s in set(n)])[0][1];r=[[0,1],[0,-1],[-1,0],[1,0]]
 for s in R(d):
  for B in R(l):
   if g[s][B]==o:
    a=[]
    for(n,E)in r:
     if s+n>=0 and B+E>=0 and s+n<d and B+E<l:a+=[g[s+n][B+E]]
    if sum(a)/L(a)<max(a)/2:g[s][B]=0
    else:g[s][B]=max(a)
    try:
     if g[s][B+1]+g[s][B-1]==0 or g[s+1][B]+g[s-1][B]==0:g[s][B]=0
    except:pass
  if g[-1][-1]>0:
   if g[-2][-1]==0:g[-1][-1]=0
   if g[-1][-2]==0:g[-1][-1]=0
  if g[-1][10]>0 and g[-2][10]==0:g[-1][10]=0
 return g