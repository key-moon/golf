ZERO,ONE,FIVE=0,1,5
def _least_color(I):from collections import Counter as B;A=B(B for A in I for B in A);return min(A,key=A.get)
def _components(I):
	F,G=len(I),len(I[0]);C=[[False]*G for A in range(F)];J=[]
	for D in range(F):
		for E in range(G):
			if C[D][E]:continue
			K=I[D][E];H=[(D,E)];C[D][E]=True;L=[]
			while H:
				M,N=H.pop();L.append((M,N))
				for(O,P)in((1,0),(-1,0),(0,1),(0,-1)):
					A,B=M+O,N+P
					if 0<=A<F and 0<=B<G and not C[A][B]and I[A][B]==K:C[A][B]=True;H.append((A,B))
			J.append((K,set(L)))
	return J
def _bbox(cells):A=cells;B=[A for(A,B)in A];C=[A for(B,A)in A];return min(B),max(B),min(C),max(C)
def _outbox(cells):
	F=cells
	if not F:return set()
	B,C,D,E=_bbox(F);B-=1;C+=1;D-=1;E+=1;A=set()
	for G in range(D,E+1):A.add((B,G));A.add((C,G))
	for H in range(B,C+1):A.add((H,D));A.add((H,E))
	return A
def _fill(I,val,cells):
	D,E=len(I),len(I[0]);A=[list(A)for A in I]
	for(B,C)in cells:
		if 0<=B<D and 0<=C<E:A[B][C]=val
	return tuple(tuple(A)for A in A)
def solve_f8c80d96(I):
	E=_components(I);B=_least_color(I);H=[C for(A,C)in E if A==B];J=max(H,key=len)
	def K(cs):C,D,A,B=_bbox(cs);return B-A+1
	L=min((A for(B,A)in E),key=K);M=len(L)!=ONE
	def C(cells,inc):
		A=set(cells)
		for B in range(inc):A=_outbox(A)
		return A
	D=2+(1 if M else 0);F=C(J,D);G=C(F,D);N=C(G,D);A=_fill(I,B,F);A=_fill(A,B,G);A=_fill(A,B,N);O=tuple(tuple(FIVE if A==ZERO else A for A in A)for A in A);return O
def p(g):A=tuple(tuple(A)for A in g);B=solve_f8c80d96(A);return[list(A)for A in B]