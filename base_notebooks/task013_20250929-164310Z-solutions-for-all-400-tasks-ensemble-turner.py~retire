def p(a):
 n=l=s=d=h=0;i=[]
 if(n:=sum(a[0])or sum(a[-1])):a=[*zip(*a[::-1])]
 H=len(a[0])
 for A in range(len(a)):
  if a[A][0]+a[A][-1]and s<2:a[A]=[a[A][0]+a[A][-1]]*H;s+=1;i+=a[A][:1];h=A
  l+=0<s<2
 for A in range(h+l,len(a),l):a[A]=[i[d]]*H;d^=1
 if n:a=[*map(list,zip(*a))][::-1]
 return a