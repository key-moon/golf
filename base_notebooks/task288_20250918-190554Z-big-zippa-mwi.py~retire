from collections import Counter
def p(g):
	C,D=len(g),len(g[0]);E=Counter(B for A in g for B in A);I=min(E,key=E.get);F=[(A-1,B)for A in range(C)for B in range(D)if g[A][B]==I]
	if not F:return[A[:]for A in g]
	J=min(A for(A,B)in F);K=min(A for(B,A)in F);L=max(A for(B,A)in F);G=set();A,B=J,K
	while 0<=A<C and 0<=B<D:G.add((A,B));A-=1;B-=1
	A,B=J,L
	while 0<=A<C and 0<=B<D:G.add((A,B));A-=1;B+=1
	M=max(E,key=E.get);H=[A[:]for A in g]
	for(A,B)in G:
		if 0<=A<C and 0<=B<D and H[A][B]==M:H[A][B]=I
	return H