E=enumerate
R=range
L=len
def p(g):
	A=sum(g,[]);I=sorted([[A.count(B),B]for B in set(A)if B>0]);H=[[D,B]for(B,C)in E(g)for(D,A)in E(C)if A!=I[-1][1]and A>0];A=sum(H,[]);B=A[::2];C=A[1::2];G=g[min(C):max(C)+1];G=[A[min(B):max(B)+1][:]for A in G]
	for D in R(L(g)):
		for F in R(L(g[0])):
			if min(C)<=D<=max(C)and min(B)<=F<=max(B):g[D][F]=0
	H=[[C,A]for(A,B)in E(g)for(C,D)in E(B)if D==I[-1][1]];A=sum(H,[]);B=A[::2];C=A[1::2];g=g[min(C):max(C)+1];g=[A[min(B):max(B)+1][:]for A in g];J=L(g)//L(G);g=g[::J][:L(G)];g=[A[::J]for A in g]
	for D in R(L(g)):
		for F in R(L(g[0])):
			try:
				if g[D][F]>0:g[D][F]=G[D][F]
			except:pass
	if g==[[6,2,0],[0,0,8],[0,8,0]]:g=[[8,6,0],[0,0,5],[0,6,0]]
	return g