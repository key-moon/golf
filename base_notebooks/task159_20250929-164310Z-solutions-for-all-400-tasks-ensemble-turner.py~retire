s=range
L=len
def p(g):
 H,D=L(g),L(g[0]);E,n=[],[99,99,0,0];G=[E for E in sum(g,[])if E not in[0,2]][0]
 for B in s(H):
  d=g[B].count(2)
  if d>1and len(E)<1:E=[B,g[B].index(2),d]
  d=g[B].count(G)
  if d>0:
   n[0]=min([B,n[0]])
   for D in s(D):
    if g[B][D]==G:n[1]=min([D,n[1]])
 F=E[2]//3
 for B in s(3):
  for D in s(3):
   for J in s(F):
    for R in s(F):g[E[0]+B*F+J+1][E[1]+D*F+R+1]=g[n[0]+B][n[1]+D]
 g=g[E[0]:E[0]+E[2]];g=[B[E[1]:E[1]+E[2]]for B in g];return g