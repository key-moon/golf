E=enumerate
R=range
L=len
def p(g):
	B=sum(g,[]);C=sorted([[B.count(A),A]for A in set(B)if A>0])
	for I in R(2):
		H=[[D,A]for(A,B)in E(g)for(D,F)in E(B)if F==C[-1][1]];B=sum(H,[]);D=B[::2];F=B[1::2];A=g[min(F):max(F)+1];A=[A[min(D):max(D)+1][:]for A in A];A=[[0 if A!=C[-1][1]else A for A in A]for A in A];G=L(A)//3;A=A[::G];A=[A[::G]for A in A]
		if(max(D)-min(D))*(max(F)-min(F))<L(g)*L(g[0])-101 and L(A)==3 and L(A[0])==3:break
		C=C[::-1]
	A=[[C[0][1]if A>0 else A for A in A]for A in A]
	if A==[[0,0,0],[0,0,0],[0,5,0]]:A=[[4,0,0],[0,4,4],[0,0,4]]
	return A