def p(g):
	from collections import Counter as W;A=[A[:]for A in g];F,G=len(A),len(A[0]);B=W(B for A in A for B in A);X=0 if 0 in B else max(B,key=B.get);L=[A for A in B if A!=X]
	if len([A for A in L if A!=0])==0:return[[0,0,0],[0,0,0],[0,0,0]]
	def Y(col):
		C=col;D=0;I=0
		for E in range(F):
			H=A[E]
			for B in range(G):
				if H[B]!=C:continue
				I+=1
				if E>0 and A[E-1][B]==C:D+=1
				if E+1<F and A[E+1][B]==C:D+=1
				if B>0 and H[B-1]==C:D+=1
				if B+1<G and H[B+1]==C:D+=1
		return D/(I or 1)
	M=[A for A in L if A!=0];H=max(M,key=lambda c:(Y(c),B[c],-c));N=[A for A in M if A!=H];Z=min(N,key=lambda c:(B[c],c))if N else H;C=[(B,C)for B in range(F)for C in range(G)if A[B][C]==H]
	if not C:return[[0,0,0],[0,0,0],[0,0,0]]
	D=min(A for(A,B)in C);E=min(A for(B,A)in C);I=max(A for(A,B)in C);J=max(A for(B,A)in C);O=D,D+(I-D+1)//3,D+2*(I-D+1)//3,I+1;P=E,E+(J-E+1)//3,E+2*(J-E+1)//3,J+1;Q=[]
	for R in range(3):
		S=[]
		for T in range(3):
			K=False
			for U in range(O[R],O[R+1]):
				for V in range(P[T],P[T+1]):
					if 0<=U<F and 0<=V<G and A[U][V]==H:K=True;break
				if K:break
			S.append(Z if K else 0)
		Q.append(S)
	return Q