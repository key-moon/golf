j=lambda A:[[A[C][B]for C in range(len(A))]for B in range(len(A[0]))]
def p(A):
	D,E=len(A),len(A[0])
	if E>D:return j(p(j(A)))
	C,B,F=0,D,0
	for(G,H)in enumerate(A):
		if H[0]==2:C=G
		if any(A==3 for A in H):B,F=min(B,G),G
	if B<C:return p(A[::-1])[::-1]
	return A[:C+1]+A[B:F+1]+[[8]*E]+[[0]*E]*(D-C+B-F-3)