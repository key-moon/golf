L=len
R=range
def p(g):
	F,G=L(g),L(g[0]);H=sum(g,[]);C=sorted([[H.count(A),A]for A in set(H)])[:2];I={C[0][1]:C[1][1],C[1][1]:C[0][1]}
	for J in range(50):
		for A in R(F):
			for B in R(G):
				if g[A][B]in I:
					for(D,E)in[[0,1],[0,-1],[1,0],[-1,0]]:
						if 0<=A+D<F and 0<=B+E<G and g[A+D][B+E]==0:g[A+D][B+E]=I[g[A][B]]
	return g