def p(g):
	A=set();L=[]
	for O in range(100):
		C,B=O//10,O%10
		if(C,B)in A:continue
		P=g[C][B];M=[(C,B)];G={(C,B)};A|={M[0]}
		for(F,S)in M:
			for D in[(F+A,S+B)for(A,B)in[(0,1),(0,-1),(1,0),(-1,0)]]:
				if 0<=D[0]<10>D[1]>=0 and D not in A and g[D[0]][D[1]]==P:A|={D};M+=[D];G|={D}
		L+=[(P,G)]
	T=[B for(A,B)in L if A==5];Q=[];J=[]
	for(A,B)in L:
		if A==0:
			H=lambda s,i:[min,max][i>1](A[i%2]for A in s)
			if any(all(H(B,A)>=H(C,A)if A<2 else H(B,A)<=H(C,A)for A in range(4))for C in T):Q+=[B]
		elif A>0 and A!=5:J+=[(A,B)]
	R=lambda s:frozenset((B-(A:=min(s))[0],C-A[1])for(B,C)in s);N={};K={}
	for F in Q:E=R(F);N[E]=N.get(E,[])+[F]
	for(A,F)in J:E=R(F);K[E]=K.get(E,[])+[(A,F)]
	G={A:sum(1 for(B,C)in J if B==A)for(A,B)in J}
	for(E,U)in N.items():
		if E in K:
			I=K[E]
			if len(I)>1 and G:I=[A for A in I if A[0]!=max(G,key=G.get)]or I
			for(V,(A,H))in zip(U,I):
				for(C,B)in H:g[C][B]=0
				for(C,B)in V:g[C][B]=A
	return g