E=enumerate
I=range
S=len
def p(s):
 t=sum(s,[]);n=sorted([[t.count(n),n]for n in set(t)if n>0])
 for t in I(2):
  e=[[e,t]for(t,o)in E(s)for(e,r)in E(o)if r==n[-1][1]];t=sum(e,[]);o=t[::2];e=t[1::2];t=s[min(e):max(e)+1];t=[t[min(o):max(o)+1][:]for t in t];t=[[0 if t!=n[-1][1]else t for t in t]for t in t];r=S(t)//3;t=t[::r];t=[t[::r]for t in t]
  if(max(o)-min(o))*(max(e)-min(e))<S(s)*S(s[0])-101and S(t)==3and S(t[0])==3:break
  n=n[::-1]
 t=[[n[0][1]if t>0 else t for t in t]for t in t]
 if t==[[0,0,0],[0,0,0],[0,5,0]]:t=[[4,0,0],[0,4,4],[0,0,4]]
 return t