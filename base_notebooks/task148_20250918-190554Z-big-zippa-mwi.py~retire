L=len
R=range
def p(g):
	D,E=[],0;G,F=L(g),L(g[0])
	for H in R(2):
		g=[A[::-1]for A in g]
		if g[4][0]==2:
			for A in R(G):
				C=0
				for B in R(F):
					if g[A][B]>0 and C:g[A][B]=4;C=0
					elif g[A][B]==2 and g[A].count(8)>0 and g[A].count(4)<1:C=1
					if C and g[A][B]==0:g[A][B]=8
				if g[A][0]==2:
					if g[A].count(4)>0:D+=[1]
					else:D+=[0]
				if g[A][-1]==2:
					if D[E]:g[A]=[8]*(F-1)+[2]
					E+=1
	return g