def p(j):
	D=range;A=len(j);E=[A[:]for A in j]
	for B in range(A):
		if j[1][B]==0 and j[A-2][B]==0 and sum(j[A][B]for A in D(1,A-1))==0:
			for C in D(1,A-1):E[C][B]=3
	for C in range(A):
		if j[C][1]==0 and j[C][A-2]==0 and sum(j[C][A]for A in D(1,A-1))==0:
			for B in D(1,A-1):
				if E[C][B]==0:E[C][B]=3
	return E