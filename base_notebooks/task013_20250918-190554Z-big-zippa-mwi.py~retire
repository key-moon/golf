def p(j,A=range):
	O,L=len(j),len(j[0]);R=[(B,C,j[B][C])for B in A(O)for C in A(L)if j[B][C]];R.sort()
	if len(R)==2:
		D,E=R
		if D[0]==E[0]:
			P,M,F=D;J,G=E[1],E[2];C=abs(J-M)
			for B in A(O):j[B][M]=F;j[B][J]=G
			if C:
				Q=max(M,J)+C;H=0;I=[F,G]
				if J<M:I=I[::-1]
				while Q<L:
					for B in A(O):j[B][Q]=I[H%2]
					Q+=C;H+=1
		elif D[1]==E[1]:
			Q,N,F=D[1],D[0],D[2];K,G=E[0],E[2];C=abs(K-N)
			for B in A(L):j[N][B]=F;j[K][B]=G
			if C:
				P=K+C;H=0;I=[F,G]
				while P<O:
					for B in A(L):j[P][B]=I[H%2]
					P+=C;H+=1
		elif D[0]==0 and E[0]==O-1:
			N,M,F=D;K,J,G=E;C=abs(J-M)
			for B in A(O):j[B][M]=F;j[B][J]=G
			if C:
				Q=J+C;H=0;I=[F,G]
				while Q<L:
					for B in A(O):j[B][Q]=I[H%2]
					Q+=C;H+=1
		elif D[1]==0 and E[1]==L-1 or E[1]==0 and D[1]==L-1:
			if D[1]==0:N,M,F=D;K,J,G=E
			else:N,M,F=E;K,J,G=D
			C=abs(K-N)
			for B in A(L):j[N][B]=F;j[K][B]=G
			if C:
				P=max(N,K)+C;H=0;I=[F,G]
				if K<N:I=I[::-1]
				while P<O:
					for B in A(L):j[P][B]=I[H%2]
					P+=C;H+=1
	return j