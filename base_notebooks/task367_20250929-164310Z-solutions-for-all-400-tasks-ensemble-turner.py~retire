def p(I,f=range):
 E,h=len(I),len(I[0])
 def J(i,t):
  G=[[0]*h for A in f(E)];J=[]
  for A in f(E):
   for n in f(h):
    if G[A][n]or i[A][n]!=t:G[A][n]=1;continue
    G[A][n]=1;L=[(A,n)];I=0;K=[(A,n)]
    while I<len(L):C,D=L[I];I+=1;[L.append((C+A,D+n))or K.append((C+A,D+n))or G[C+A].__setitem__(D+n,1)for(A,n)in[(1,0),(-1,0),(0,1),(0,-1)]if 0<=C+A<E and 0<=D+n<h and not G[C+A][D+n]and i[C+A][D+n]==t]
    J.append(K)
  return J
 A=lambda L:(min(A for(A,n)in L),min(A for(n,A)in L),max(A for(A,n)in L),max(A for(n,A)in L));K=lambda L:(lambda o,l,d,r:len(L)==(d-o+1)*(r-l+1))(*A(L));L=lambda L:(lambda o,l,d,r:{(A,l-1)for A in f(o-1,d+2)}|{(A,r+1)for A in f(o-1,d+2)}|{(o-1,A)for A in f(l-1,r+2)}|{(d+1,A)for A in f(l-1,r+2)})(*A(L));M={(A,n)for A in f(E)for n in f(h)if I[A][n]==5};C=set()
 for n in J(I,0):
  if K(n):D=L(n);G=set();[G.add((A+C,n+D))for(A,n)in(lambda o,l,d,r:{(o,l),(o,r),(d,l),(d,r)})(*A(list(D)))for(C,D)in[(1,0),(-1,0),(0,1),(0,-1)]];M.isdisjoint(G-D)and C.update(n)
 L=[list(A)for A in I];[L[A].__setitem__(n,4)for(A,n)in C if 0<=A<E and 0<=n<h];return[list(A)for A in L]