def p(g):
	F,G=len(g),len(g[0]);Q=[A[:]for A in g];E=[[False]*G for A in range(F)];S=[(1,0),(-1,0),(0,1),(0,-1)]
	for C in range(F):
		for D in range(G):
			if E[C][D]:continue
			T=g[C][D];H=[(C,D)];E[C][D]=True;I=[(C,D)];J=K=C;L=M=D
			while H:
				N,O=H.pop()
				for(U,V)in S:
					A,B=N+U,O+V
					if 0<=A<F and 0<=B<G and not E[A][B]and g[A][B]==T:
						E[A][B]=True;H.append((A,B));I.append((A,B))
						if A<J:J=A
						if A>K:K=A
						if B<L:L=B
						if B>M:M=B
			P=K-J+1;R=M-L+1
			if P==R and len(I)==P*R:
				W=2 if P%2==0 else 7
				for(N,O)in I:Q[N][O]=W
	return Q