e=len
S=range
def p(n):
 i,d=[],0;L,a=e(n),e(n[0])
 for T in S(2):
  n=[T[::-1]for T in n]
  if n[4][0]==2:
   for T in S(L):
    o=0
    for l in S(a):
     if n[T][l]>0and o:n[T][l]=4;o=0
     elif n[T][l]==2and n[T].count(8)>0and n[T].count(4)<1:o=1
     if o and n[T][l]==0:n[T][l]=8
    if n[T][0]==2:
     if n[T].count(4)>0:i+=[1]
     else:i+=[0]
    if n[T][-1]==2:
     if i[d]:n[T]=[8]*(a-1)+[2]
     d+=1
 return n