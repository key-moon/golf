C=any
B=range
A=len
def p(g):
 for c in B(10):
  for d in B(10):
   u=[(i,j)for i in B(A(g))for j in B(A(g[0]))if c==g[i][j]];v=[(i,j)for i in B(A(g))for j in B(A(g[0]))if d==g[i][j]];a=[(i,j)for i in B(A(g))for j in B(A(g[0]))if c!=g[i][j]>0if C(2>i-k>-2<j-l<2for(k,l)in u)];b=[(i,j)for i in B(A(g))for j in B(A(g[0]))if d!=g[i][j]>0if C(2>i-k>-2<j-l<2for(k,l)in v)];b=[(i,j)for i in B(A(g))for j in B(A(g[0]))if d!=g[i][j]>0if C(2>i-k>-2<j-l<2for(k,l)in v+b)];b=[(i,j)for i in B(A(g))for j in B(A(g[0]))if d!=g[i][j]>0if C(2>i-k>-2<j-l<2for(k,l)in v+b)];b=[(i,j)for i in B(A(g))for j in B(A(g[0]))if d!=g[i][j]>0if C(2>i-k>-2<j-l<2for(k,l)in v+b)];s=(A(b)^6)%6
   for(i,j)in u*(A(v)==A(b)>=A(a)==1<A(u)):
    for k in B(s):
     for l in B(s):g[(i-a[0][0])*s+b[0][0]+k][(j-a[0][1])*s+b[0][1]+l]=d
 return g