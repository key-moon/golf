from random import*
def p(f,s=4):
 seed([2024-s,'+u-)+e[','41-efe[','41*l}{','f(3,+e['][s*(0<s)]);g,t,d=randrange(13,20)==len(f[0]),randrange(13,20)==len(f),randrange(1,10);u=sample([*{*range(1,10)}^{d*(s<0)}],a:=randrange(4,7));e=[1+randrange(0<i,(i<2)+i)for i in range(a)];o=[(a*2-1)*[d]for i in range(a)]
 for i in range(a):
  for l in range(e[i]):l-=i;o[l-1][a+i-1]=o[l-1][a-i-1]=o[-i-1][a+l-1]=o[-i-1][a-l-1]=u[i]
 return all([g,t,{*sum(f,[])}=={*u,d},d in f[2]])and o+o[:-1][::-1]or p(f,s-1)