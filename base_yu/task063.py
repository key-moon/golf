p=lambda g,c=2:c and p([*zip(*[{*s[1:len(g)-1]}&{2,8}and s or[s[0],*([3]*(len(g)-2)),s[-1]]for s in g])],c-1)or g


# def p(g):
#  n=len(g)
#  for _ in[0]*2:*g,=zip(*[{*s[1:n-1]}&{2,8}and s or[s[0],*([3]*(n-2)),s[-1]]for s in g])
#  return g

# def p(g):
#  n=len(g)
#  for _ in[0]*2:
#   g=[{*s[1:n-1]}&{2,8}and s or[s[0],*([3]*(n-2)),s[-1]]for s in g]
#   *g,=map(list,zip(*g))
#  return g